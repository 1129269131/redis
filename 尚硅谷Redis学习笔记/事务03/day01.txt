启动redis
命令行下方空白输入框输入：
	docker exec -it redis redis-cli

1、开启事务
127.0.0.1:3679> MULTI

2、入队
127.0.0.1:3679> MULTI
127.0.0.1:3679> set k1 v1

3、正常执行
127.0.0.1:3679> MULTI
127.0.0.1:3679> set k1 v1
127.0.0.1:3679> EXEC

4、放弃事务
127.0.0.1:3679> MULTI
127.0.0.1:3679> set k1 v1
127.0.0.1:3679> DISCARD

5、连坐
127.0.0.1:3679> MULTI
127.0.0.1:3679> set k1 v1
127.0.0.1:3679> set k2 v2
127.0.0.1:3679> set k3 v4
127.0.0.1:3679> getset k3
127.0.0.1:3679> set k4 v4
127.0.0.1:3679> set k5 v5
127.0.0.1:3679> EXEC

127.0.0.1:3679> set k1 aa
6、冤头债主
127.0.0.1:3679> MULTI
127.0.0.1:3679> incr k1
127.0.0.1:3679> set k2 22
127.0.0.1:3679> set k3 33
127.0.0.1:3679> set k4 v4
127.0.0.1:3679> get k4
127.0.0.1:3679> EXEC

无加塞篡改
7、watch监控：监视一个（或多个）key，如果在事务执行之前（或这些）key被其他命令所改动，那么事务将被打断
balance（余额） debt（欠款）
127.0.0.1:3679> set balance 100
127.0.0.1:3679> set debt 0
127.0.0.1:3679> WATCH balance
127.0.0.1:3679> MULTI
127.0.0.1:3679> decrby balance 20
127.0.0.1:3679> incrby debt 20
127.0.0.1:3679> EXEC

加塞篡改（乐观锁）
8、
127.0.0.1:3679> WATCH balance
127.0.0.1:3679> set balance 800   
127.0.0.1:3679> MULTI
127.0.0.1:3679> decrby balance 20
127.0.0.1:3679> incrby debt 20
127.0.0.1:3679> EXEC

9、UNWATCH：取消WATCH命令对所有key的监视
127.0.0.1:3679> WATCH balance
127.0.0.1:3679> set balance 800
127.0.0.1:3679> UNWATCH 
127.0.0.1:3679> WATCH balance 
127.0.0.1:3679> MULTI
127.0.0.1:3679> decrby balance 20
127.0.0.1:3679> incrby debt 20
127.0.0.1:3679> EXEC



